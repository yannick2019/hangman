(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))l(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&l(u)}).observe(document,{childList:!0,subtree:!0});function r(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function l(n){if(n.ep)return;n.ep=!0;const o=r(n);fetch(n.href,o)}})();const L=document.getElementById("word"),k=document.getElementById("wrong-letters"),b=document.getElementById("play-btn"),p=document.getElementById("popup-container"),m=document.getElementById("notifications-container"),h=document.getElementById("final-msg"),v=document.querySelector(".reset");document.querySelector(".letter");const S=document.querySelector(".instructions"),q=document.getElementById("dark-mode-toggle"),I=document.getElementById("virtual-keyboard"),g=document.querySelectorAll(".hangman"),w=new Audio("./short-success-sound.mp3"),A=new Audio("./win-sound.mp3"),B=new Audio("./negative_beeps.mp3"),T=new Audio("./failure-drum-sound.mp3"),i=[],s=[];let y=!1,c;async function a(){y||(c=(await(await fetch("https://trouve-mot.fr/api/random")).json())[0].name,y=!0),L.innerHTML=`
        ${c.split("").map(e=>`
                <span class="letter">${i.includes(e)?e:""}</span>
                `).join("")}
    `,x()}function x(){const e=L.innerText.replace(/\n/g,""),t=document.getElementById("display-guessing-word");e===c&&(A.play(),h.innerText="Bravo, tu as gagnÃ©! ðŸ˜ƒ",t.style.display="none",p.style.display="flex")}function d(){m.classList.add("display"),setTimeout(()=>{m.classList.remove("display")},2e3)}async function f(){if(k.innerHTML=`${s.map(e=>`<span>${e}</span>`)}`,g.forEach((e,t)=>{const r=s.length;t<r?(e.style.display="block",e.classList.add("shake"),T.play(),setTimeout(()=>{e.classList.remove("shake")},200)):e.style.display="none"}),s.length===g.length){const e=document.getElementById("display-guessing-word");h.innerText="Malheureusement, tu as perdu! ðŸ˜”",B.play(),e.style.display="block",e.innerText=`Mot cachÃ© : ${await c}`,p.style.display="flex"}}function M(){const e=document.body,t=document.querySelectorAll("a"),r=document.querySelector(".figure-content"),l=document.querySelector(".img");e.classList.toggle("dark-mode"),e.className==="dark-mode"?(t.forEach(n=>n.style.color="#fff"),r.style.stroke="#fff",l.style.backgroundColor="#fff"):(t.forEach(n=>n.style.color="black"),r.style.stroke="black",l.style.removeProperty("background-color"))}async function E(){i.splice(0),s.splice(0),y=!1,await a(),f()}function W(){const e=document.querySelector(".instruction-container");e.style.display="flex",e.addEventListener("click",()=>{e.style.display="none"})}window.addEventListener("keydown",e=>{const t=e.key.toLowerCase();/^[a-zÃ Ã¢Ã§Ã©Ã¨ÃªÃ«Ã®Ã¯Ã´Ã»Ã¹Ã¼Ã¿Å“Ã¦]$/.test(t)&&(c.includes(t)?i.includes(t)?d():(i.push(t),w.play(),a()):s.includes(t)?d():(s.push(t),f()))});I.addEventListener("click",e=>{if(e.target.classList.contains("keyboard-button")){const t=e.target.textContent.toLowerCase();c.includes(t)?i.includes(t)?d():(i.push(t),w.play(),a()):s.includes(t)?d():(s.push(t),f())}});b.addEventListener("click",()=>{E(),p.style.display="none"});S.addEventListener("click",W);q.addEventListener("change",M);v.addEventListener("click",E);a();
